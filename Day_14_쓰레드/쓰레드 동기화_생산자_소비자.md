# ìƒì‚°ì-ì†Œë¹„ì(Producer-Consumer)
---

## ğŸ§© ìƒì‚°ì-ì†Œë¹„ì ë¬¸ì œë€?
- **ìƒí™©**: ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ë°ì´í„°ë¥¼ **ìƒì‚°(Producer)**í•˜ê³ , ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì´ë¥¼ **ì†Œë¹„(Consumer)**í•˜ëŠ” êµ¬ì¡°.  
- **ë¬¸ì œì **: ë™ê¸°í™”ê°€ ì—†ìœ¼ë©´ ì†Œë¹„ìê°€ ë°ì´í„°ë¥¼ êº¼ë‚´ë ¤ í•  ë•Œ íê°€ ë¹„ì–´ ìˆê±°ë‚˜, ìƒì‚°ìê°€ ë°ì´í„°ë¥¼ ë„£ìœ¼ë ¤ í•  ë•Œ íê°€ ê°€ë“ ì°¨ëŠ” ìƒí™© ë°œìƒ.  
- **í•´ê²°ì±…**: `BlockingQueue` ê°™ì€ ë™ê¸°í™”ëœ ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´, ìë™ìœ¼ë¡œ **ëŒ€ê¸°(wait)**ì™€ **ê¹¨ìš°ê¸°(notify)**ë¥¼ ì²˜ë¦¬í•´ì¤Œ.  

---

## âš™ï¸ BlockingQueue íŠ¹ì§•
- `put()` â†’ íê°€ ê°€ë“ ì°¨ë©´ ê³µê°„ì´ ìƒê¸¸ ë•Œê¹Œì§€ ëŒ€ê¸°  
- `take()` â†’ íê°€ ë¹„ì–´ ìˆìœ¼ë©´ ë°ì´í„°ê°€ ë“¤ì–´ì˜¬ ë•Œê¹Œì§€ ëŒ€ê¸°  
- ë‚´ë¶€ì ìœ¼ë¡œ ë™ê¸°í™”ê°€ ì²˜ë¦¬ë˜ì–´ ìˆì–´ ë³„ë„ì˜ `synchronized` ì½”ë“œ ì‘ì„± ë¶ˆí•„ìš”  

---

## ğŸ’» ì˜ˆì œ ì½”ë“œ

```java
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.ArrayBlockingQueue;

class Producer implements Runnable {
    private BlockingQueue<Integer> queue;

    public Producer(BlockingQueue<Integer> queue) {
        this.queue = queue;
    }

    @Override
    public void run() {
        try {
            for (int i = 1; i <= 5; i++) {
                System.out.println("ìƒì‚°ì: " + i + " ìƒì‚°");
                queue.put(i); // íê°€ ê°€ë“ ì°¨ë©´ ëŒ€ê¸°
                Thread.sleep(500); // ìƒì‚° ì†ë„ ì¡°ì ˆ
            }
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}

class Consumer implements Runnable {
    private BlockingQueue<Integer> queue;

    public Consumer(BlockingQueue<Integer> queue) {
        this.queue = queue;
    }

    @Override
    public void run() {
        try {
            while (true) {
                Integer item = queue.take(); // íê°€ ë¹„ì–´ ìˆìœ¼ë©´ ëŒ€ê¸°
                System.out.println("ì†Œë¹„ì: " + item + " ì†Œë¹„");
                Thread.sleep(1000); // ì†Œë¹„ ì†ë„ ì¡°ì ˆ
            }
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}

public class ProducerConsumerExample {
    public static void main(String[] args) {
        BlockingQueue<Integer> queue = new ArrayBlockingQueue<>(3); // ìš©ëŸ‰ 3ì¸ í

        Thread producer = new Thread(new Producer(queue));
        Thread consumer = new Thread(new Consumer(queue));

        producer.start();
        consumer.start();
    }
}
```

---

## âš¡ ì‹¤í–‰ íë¦„ ì˜ˆì‹œ
```
ìƒì‚°ì: 1 ìƒì‚°
ì†Œë¹„ì: 1 ì†Œë¹„
ìƒì‚°ì: 2 ìƒì‚°
ìƒì‚°ì: 3 ìƒì‚°
ì†Œë¹„ì: 2 ì†Œë¹„
ìƒì‚°ì: 4 ìƒì‚°
ì†Œë¹„ì: 3 ì†Œë¹„
...
```

---

## âœ… í•µì‹¬ í¬ì¸íŠ¸
- `BlockingQueue` ë•ë¶„ì— **ë™ê¸°í™” ì½”ë“œ(synchronized, wait/notify)**ë¥¼ ì§ì ‘ ì‘ì„±í•  í•„ìš” ì—†ìŒ.  
- ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ì†ë„ê°€ ë‹¬ë¼ë„ ì•ˆì „í•˜ê²Œ ë™ì‘.  
- ì‹¤ë¬´ì—ì„œëŠ” **ë¡œê·¸ ì²˜ë¦¬, ë©”ì‹œì§€ í, ì‘ì—… ìŠ¤ì¼€ì¤„ë§** ë“±ì—ì„œ ìì£¼ ì‚¬ìš©ë¨.  

---
